import{o as a,c as e,b as s,e as l,s as r,v as n,a as o,am as t,f as i,r as c,a1 as u,g as p,an as d,ab as m,j as h,l as g,z as v,w as f,t as w,m as y,ap as C,V,ac as x,ad as _,aq as b,a2 as q,ar as K,as as j,at as k,G as z,au as R,av as $,aw as M,ax as A,B as U,W as B}from"./index.BFbPa6oo.js";/* empty css                        *//* empty css                  */import{a as H,_ as L}from"./el-switch.Dp__bEbO.js";/* empty css                 */import"./_plugin-vue_export-helper.BCo6x5W8.js";const P={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},D=[s("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96"},null,-1),s("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32m192-160v-64a192 192 0 1 0-384 0v64zM512 64a256 256 0 0 1 256 256v128H256V320A256 256 0 0 1 512 64"},null,-1)];const E={name:"ep-lock",render:function(s,l){return a(),e("svg",P,[...D])}},G={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},I=[s("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384a192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512a256 256 0 0 1 0 512m320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0"},null,-1)];const S={name:"ep-user",render:function(s,l){return a(),e("svg",G,[...I])}},T={class:"login-container"},F={class:"top-bar"},W={class:"text-center relative"},J={class:"input-wrapper"},N={class:"input-wrapper"},O={class:"input-wrapper"},Q={class:"mt-10 text-sm"},X={class:"ml-4"},Y={class:"icp-info"},Z=[s("p",null," Copyright © 2021 - 2024 youlai.tech All Rights Reserved. 有来技术 版权所有 ",-1),s("p",null,"皖ICP备20006496号-3",-1)],aa=l({__name:"index",setup(l){const P=r(),D=n(),G=o(),{height:I}=t(),{t:aa}=i(),ea=c(D.theme===u.DARK),sa=c(!0),la=c(!1),ra=c(!1),na=c(),oa=c(),ta=c({username:"admin",password:"123456",captchaKey:"",captchaCode:""}),ia=p((()=>({username:[{required:!0,trigger:"blur",message:aa("login.message.username.required")}],password:[{required:!0,trigger:"blur",message:aa("login.message.password.required")},{min:6,message:aa("login.message.password.min"),trigger:"blur"}],captchaCode:[{required:!0,trigger:"blur",message:aa("login.message.captchaCode.required")}]})));function ca(){b.getCaptcha().then((a=>{ta.value.captchaKey=a.captchaKey,na.value=a.captchaBase64}))}function ua(){var a;null==(a=oa.value)||a.validate((a=>{a&&(la.value=!0,P.login(ta.value).then((()=>{const{path:a,queryParams:e}=function(){const a=G.query.redirect??"/",e=new URL(a,window.location.origin),s=e.pathname,l={};return e.searchParams.forEach(((a,e)=>{l[e]=a})),{path:s,queryParams:l}}();B.push({path:a,query:e})})).catch((()=>{ca()})).finally((()=>{la.value=!1})))}))}const pa=()=>{const a=D.theme===u.DARK?u.LIGHT:u.DARK;D.changeTheme(a)};function da(a){a instanceof KeyboardEvent&&(ra.value=a.getModifierState("CapsLock"))}return d((()=>{I.value<600?sa.value=!1:sa.value=!0})),m((()=>{ca()})),(l,r)=>{const n=q,o=H,t=K,i=S,c=j,u=k,p=E,d=z,m=L,b=R,B=$,P=M,D=A;return a(),e("div",T,[s("div",F,[h(n,{modelValue:g(ea),"onUpdate:modelValue":r[0]||(r[0]=a=>v(ea)?ea.value=a:null),"inline-prompt":"","active-icon":"Moon","inactive-icon":"Sunny",onChange:pa},null,8,["modelValue"]),h(o,{class:"ml-2 cursor-pointer"})]),h(D,{class:"login-card"},{default:f((()=>[s("div",W,[s("h2",null,w(g(U).title),1),h(t,{class:"ml-2 absolute-rt"},{default:f((()=>[y(w(g(U).version),1)])),_:1})]),h(P,{ref_key:"loginFormRef",ref:oa,model:g(ta),rules:g(ia),class:"login-form"},{default:f((()=>[h(u,{prop:"username"},{default:f((()=>[s("div",J,[h(i,{class:"mx-2"}),h(c,{ref:"username",modelValue:g(ta).username,"onUpdate:modelValue":r[1]||(r[1]=a=>g(ta).username=a),placeholder:l.$t("login.username"),name:"username",size:"large",class:"h-[48px]"},null,8,["modelValue","placeholder"])])])),_:1}),h(d,{visible:g(ra),content:l.$t("login.capsLock"),placement:"right"},{default:f((()=>[h(u,{prop:"password"},{default:f((()=>[s("div",N,[h(p,{class:"mx-2"}),h(c,{modelValue:g(ta).password,"onUpdate:modelValue":r[2]||(r[2]=a=>g(ta).password=a),placeholder:l.$t("login.password"),type:"password",name:"password",onKeyup:[da,C(ua,["enter"])],size:"large",class:"h-[48px] pr-2","show-password":""},null,8,["modelValue","placeholder"])])])),_:1})])),_:1},8,["visible","content"]),h(u,{prop:"captchaCode"},{default:f((()=>[s("div",O,[h(m,{"icon-class":"captcha",class:"mx-2"}),h(c,{modelValue:g(ta).captchaCode,"onUpdate:modelValue":r[3]||(r[3]=a=>g(ta).captchaCode=a),"auto-complete":"off",size:"large",class:"flex-1",placeholder:l.$t("login.captchaCode"),onKeyup:C(ua,["enter"])},null,8,["modelValue","placeholder"]),h(b,{onClick:ca,src:g(na),class:"captcha-image"},null,8,["src"])])])),_:1}),h(B,{loading:g(la),type:"primary",size:"large",class:"w-full",onClick:V(ua,["prevent"])},{default:f((()=>[y(w(l.$t("login.login")),1)])),_:1},8,["loading"]),s("div",Q,[s("span",null,w(l.$t("login.username"))+": admin",1),s("span",X,w(l.$t("login.password"))+": 123456",1)])])),_:1},8,["model","rules"])])),_:1}),x(s("div",Y,Z,512),[[_,g(sa)]])])}}});export{aa as default};
