import{o as E,c as k,b as o,e as j,s as J,v as O,a as Q,am as X,f as Y,r as c,a1 as h,g as Z,an as ee,ab as ae,j as a,l as s,z as se,w as l,t as d,m as K,ap as B,V as oe,ac as te,ad as ne,aq as le,a2 as re,ar as ce,as as ie,at as ue,G as pe,au as de,av as me,aw as _e,ax as he,B as z,W as ge}from"./index-CbNAIyHS.js";/* empty css                        *//* empty css                  */import{a as fe,_ as ve}from"./el-switch-8OHr1zRO.js";/* empty css                 */import"./_plugin-vue_export-helper-DlAUqK2U.js";const we={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Ce=o("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96"},null,-1),ye=o("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32m192-160v-64a192 192 0 1 0-384 0v64zM512 64a256 256 0 0 1 256 256v128H256V320A256 256 0 0 1 512 64"},null,-1),Ve=[Ce,ye];function $e(q,g){return E(),k("svg",we,[...Ve])}const be={name:"ep-lock",render:$e},Ee={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},ke=o("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384a192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512a256 256 0 0 1 0 512m320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0"},null,-1),qe=[ke];function Se(q,g){return E(),k("svg",Ee,[...qe])}const Re={name:"ep-user",render:Se},xe={class:"login-container"},Ke={class:"top-bar"},Be={class:"text-center relative"},ze={class:"input-wrapper"},Me={class:"input-wrapper"},Te={class:"input-wrapper"},Ae={class:"mt-10 text-sm"},De={class:"ml-4"},Ie={class:"icp-info"},Ue=o("p",null," Copyright © 2021 - 2024 youlai.tech All Rights Reserved. 有来技术 版权所有 ",-1),Le=o("p",null,"皖ICP备20006496号-3",-1),Pe=[Ue,Le],Je=j({__name:"index",setup(q){const g=J(),f=O(),M=Q(),{height:T}=X(),{t:m}=Y(),v=c(f.theme===h.DARK),w=c(!0),C=c(!1),S=c(!1),R=c(),x=c(),n=c({username:"admin",password:"123456",captchaKey:"",captchaCode:""}),A=Z(()=>({username:[{required:!0,trigger:"blur",message:m("login.message.username.required")}],password:[{required:!0,trigger:"blur",message:m("login.message.password.required")},{min:6,message:m("login.message.password.min"),trigger:"blur"}],captchaCode:[{required:!0,trigger:"blur",message:m("login.message.captchaCode.required")}]}));function y(){le.getCaptcha().then(e=>{n.value.captchaKey=e.captchaKey,R.value=e.captchaBase64})}function V(){var e;(e=x.value)==null||e.validate(t=>{t&&(C.value=!0,g.login(n.value).then(()=>{const{path:i,queryParams:u}=D();ge.push({path:i,query:u})}).catch(()=>{y()}).finally(()=>{C.value=!1}))})}function D(){const t=M.query.redirect??"/",i=new URL(t,window.location.origin),u=i.pathname,_={};return i.searchParams.forEach(($,p)=>{_[p]=$}),{path:u,queryParams:_}}const I=()=>{const e=f.theme===h.DARK?h.LIGHT:h.DARK;f.changeTheme(e)};ee(()=>{T.value<600?w.value=!1:w.value=!0});function U(e){e instanceof KeyboardEvent&&(S.value=e.getModifierState("CapsLock"))}return ae(()=>{y()}),(e,t)=>{const i=re,u=fe,_=ce,$=Re,p=ie,b=ue,L=be,P=pe,F=ve,H=de,N=me,G=_e,W=he;return E(),k("div",xe,[o("div",Ke,[a(i,{modelValue:s(v),"onUpdate:modelValue":t[0]||(t[0]=r=>se(v)?v.value=r:null),"inline-prompt":"","active-icon":"Moon","inactive-icon":"Sunny",onChange:I},null,8,["modelValue"]),a(u,{class:"ml-2 cursor-pointer"})]),a(W,{class:"login-card"},{default:l(()=>[o("div",Be,[o("h2",null,d(s(z).title),1),a(_,{class:"ml-2 absolute-rt"},{default:l(()=>[K(d(s(z).version),1)]),_:1})]),a(G,{ref_key:"loginFormRef",ref:x,model:s(n),rules:s(A),class:"login-form"},{default:l(()=>[a(b,{prop:"username"},{default:l(()=>[o("div",ze,[a($,{class:"mx-2"}),a(p,{ref:"username",modelValue:s(n).username,"onUpdate:modelValue":t[1]||(t[1]=r=>s(n).username=r),placeholder:e.$t("login.username"),name:"username",size:"large",class:"h-[48px]"},null,8,["modelValue","placeholder"])])]),_:1}),a(P,{visible:s(S),content:e.$t("login.capsLock"),placement:"right"},{default:l(()=>[a(b,{prop:"password"},{default:l(()=>[o("div",Me,[a(L,{class:"mx-2"}),a(p,{modelValue:s(n).password,"onUpdate:modelValue":t[2]||(t[2]=r=>s(n).password=r),placeholder:e.$t("login.password"),type:"password",name:"password",onKeyup:[U,B(V,["enter"])],size:"large",class:"h-[48px] pr-2","show-password":""},null,8,["modelValue","placeholder"])])]),_:1})]),_:1},8,["visible","content"]),a(b,{prop:"captchaCode"},{default:l(()=>[o("div",Te,[a(F,{"icon-class":"captcha",class:"mx-2"}),a(p,{modelValue:s(n).captchaCode,"onUpdate:modelValue":t[3]||(t[3]=r=>s(n).captchaCode=r),"auto-complete":"off",size:"large",class:"flex-1",placeholder:e.$t("login.captchaCode"),onKeyup:B(V,["enter"])},null,8,["modelValue","placeholder"]),a(H,{onClick:y,src:s(R),class:"captcha-image"},null,8,["src"])])]),_:1}),a(N,{loading:s(C),type:"primary",size:"large",class:"w-full",onClick:oe(V,["prevent"])},{default:l(()=>[K(d(e.$t("login.login")),1)]),_:1},8,["loading"]),o("div",Ae,[o("span",null,d(e.$t("login.username"))+": admin",1),o("span",De,d(e.$t("login.password"))+": 123456",1)])]),_:1},8,["model","rules"])]),_:1}),te(o("div",Ie,Pe,512),[[ne,s(w)]])])}}});export{Je as default};
